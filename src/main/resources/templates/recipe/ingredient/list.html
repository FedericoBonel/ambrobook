<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ingredients</title>
    <link rel="stylesheet" href="/css/index.css">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>
<div class="container mt-3">
    <div class="row justify-content-center">
        <main role="main" class="col-lg-9 mx-auto">
            <h1 class="card-title mb-4"
                th:text="#{recipe.ingredients}">Ingredients</h1>
            <hr class="bg-dark border-2 border-top border-dark">
            <div class="row justify-content-lg-end mx-auto">
                <a class="btn btn-success mb-4 col-lg-2"
                   th:href="@{'/recipe/' + ${recipe.id} + '/ingredient/new'}"
                   type="submit">
                    Add ingredient</a>
            </div>
            <div class="card-body">
                <div class="table-responsive" th:if="${not #lists.isEmpty(recipe.ingredients)}">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th th:text="#{ingredient.description}">Description</th>
                            <th th:text="#{edit}">Update</th>
                            <th th:text="#{delete}">Delete</th>
                        </tr>
                        </thead>
                        <tr th:each="ingredient:${recipe.ingredients}">
                            <td><a href="#"
                                   th:href="@{'/recipe/' + ${recipe.id} + '/ingredient/' + ${ingredient.id} + '/show'}"
                                   th:text="${ingredient.amount + ' ' + ingredient.uom.unit + ' ' + ingredient.description}"></a>
                            </td>
                            <td><a href="#"
                                   th:href="@{'/recipe/' + ${recipe.id} + '/ingredient/' + ${ingredient.id} + '/update'}">Edit</a>
                            </td>
                            <td><a href="#"
                                   th:href="@{'/recipe/' + ${recipe.id} + '/ingredient/' + ${ingredient.id} + '/delete'}">Delete</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </main>
    </div>
</div>

<script
        crossorigin="anonymous"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        src="https://code.jquery.com/jquery-3.6.0.min.js" th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>

<script crossorigin="anonymous"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
</body>
</html>